<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Autoscope E</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style5.css') }}">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        .welcome-message, .logo, .image-container, .button-container {
            display: none;
        }
    </style>
</head>
<body>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            document.addEventListener('contextmenu', function(event) {
                event.preventDefault();
            });
        });

        function confirmShutdown(event) {
            event.preventDefault(); // Prevent form submission by default
            const userConfirmed = confirm('Are you sure you want to shut down the system?');
            if (userConfirmed) {
                event.target.submit(); // Submit the form if the user confirms
            } else {
                // Do nothing, stay on the page
            }
        }
    </script>

    <div class="image-container">
        <img src="{{ url_for('static', filename='mimd3.png') }}" alt="Image">
    </div>
    <div class="welcome-message">Welcome, Waiting one moment please</div>
    <div class="logo">
        <span class="text">Autoscope </span>
        <span class="letter">-</span>
        <span class="letter">E</span>
    </div>
    <div class="button-container">
        <button onclick="location.href='{{url_for('index_page' )}}'" class="btn"><i class="fas fa-play"></i></button>
        <!--<button onclick="location.href='{{url_for('gallery_page' )}}'" class="btn"><i class="fas fa-sliders-h"></i></button>-->
        <!--<button class="btn"><i class="fas fa-sliders-h"></i></button>-->
        <button onclick="location.href='{{url_for('start_scan' )}}'" class="btn"><i class="fas fa-sliders-h"></i></button>
        <!--<button class="btn"><i class="fas fa-images"></i></button>-->
        <button onclick="location.href='{{url_for('gallery_page' )}}'" class="btn"><i class="fas fa-images"></i></button>
        
        <!-- Power-off Button with Confirmation Prompt -->
        <form action="{{ url_for('shutdown') }}" method="post" onsubmit="confirmShutdown(event)" style="display:inline;">
            <button type="submit" class="btn"><i class="fas fa-power-off"></i></button>
        </form>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", function() {
            const welcomeMessage = document.querySelector('.welcome-message');
            const logo = document.querySelector('.logo'); 
            const imageContainer = document.querySelector('.image-container');
            const buttonContainer = document.querySelector('.button-container');

            welcomeMessage.style.display = 'block';
            imageContainer.style.display = 'block';

            setTimeout(function() {
                welcomeMessage.style.display = 'none';
                logo.style.display = 'flex';
                buttonContainer.style.display = 'flex';
            }, 3000);
        });
    </script>
</body>
</html>

